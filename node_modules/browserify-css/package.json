{
  "_args": [
    [
      {
        "raw": "browserify-css@^0.11.1",
        "scope": null,
        "escapedName": "browserify-css",
        "name": "browserify-css",
        "rawSpec": "^0.11.1",
        "spec": ">=0.11.1 <0.12.0",
        "type": "range"
      },
      "/Users/chriszuis/dev/pets"
    ]
  ],
  "_from": "browserify-css@>=0.11.1 <0.12.0",
  "_id": "browserify-css@0.11.1",
  "_inCache": true,
  "_location": "/browserify-css",
  "_nodeVersion": "4.8.3",
  "_npmOperationalInternal": {
    "host": "s3://npm-registry-packages",
    "tmp": "tmp/browserify-css-0.11.1.tgz_1500517666290_0.5318622768390924"
  },
  "_npmUser": {
    "name": "cheton",
    "email": "cheton@gmail.com"
  },
  "_npmVersion": "5.3.0",
  "_phantomChildren": {},
  "_requested": {
    "raw": "browserify-css@^0.11.1",
    "scope": null,
    "escapedName": "browserify-css",
    "name": "browserify-css",
    "rawSpec": "^0.11.1",
    "spec": ">=0.11.1 <0.12.0",
    "type": "range"
  },
  "_requiredBy": [
    "#DEV:/"
  ],
  "_resolved": "https://registry.npmjs.org/browserify-css/-/browserify-css-0.11.1.tgz",
  "_shasum": "bab7efb947da7eef42cf0690d2feded4563b1b7a",
  "_shrinkwrap": null,
  "_spec": "browserify-css@^0.11.1",
  "_where": "/Users/chriszuis/dev/pets",
  "author": {
    "name": "Cheton Wu"
  },
  "browser": "./browser.js",
  "bugs": {
    "url": "https://github.com/cheton/browserify-css/issues"
  },
  "dependencies": {
    "clean-css": "^4.1.5",
    "concat-stream": "^1.6.0",
    "css": "^2.2.1",
    "find-node-modules": "^1.0.4",
    "lodash": "^4.17.4",
    "mime": "^1.3.6",
    "through2": "2.0.x"
  },
  "description": "A Browserify transform for bundling, rebasing, inlining, and minifying CSS files",
  "devDependencies": {
    "browserify": "^14.4.0",
    "coveralls": "^2.13.1",
    "del": "^3.0.0",
    "exorcist": "^0.4.0",
    "fs-extra": "^3.0.1",
    "gulp": "^3.9.1",
    "gulp-jshint": "^2.0.4",
    "gulp-util": "^3.0.8",
    "jsdom": "^9.12.0",
    "jshint": "^2.9.5",
    "require-dir": "^0.3.2",
    "run-sequence": "^2.0.0",
    "tap": "^10.7.0",
    "vinyl-source-stream": "^1.1.0",
    "yargs": "^8.0.2"
  },
  "directories": {},
  "dist": {
    "integrity": "sha512-QfftpdLKlhE3oFdoy1hef6Vr6Quq0lmgQ2eXL6DICkDBCA+6g5WDiAu9P1nsj5aCcFEXk+xFFwdqZZ6c130gEg==",
    "shasum": "bab7efb947da7eef42cf0690d2feded4563b1b7a",
    "tarball": "https://registry.npmjs.org/browserify-css/-/browserify-css-0.11.1.tgz"
  },
  "gitHead": "9b62ba80080e774ce17b60824a934fff59adec8b",
  "homepage": "http://cheton.github.io/browserify-css/",
  "keywords": [
    "browser",
    "browserify",
    "browserify-transform",
    "css",
    "dom",
    "minify",
    "transform"
  ],
  "license": "MIT",
  "main": "./index.js",
  "maintainers": [
    {
      "name": "cheton",
      "email": "cheton@gmail.com"
    }
  ],
  "name": "browserify-css",
  "optionalDependencies": {},
  "readme": "# browserify-css [![build status](https://travis-ci.org/cheton/browserify-css.svg?branch=master)](https://travis-ci.org/cheton/browserify-css) [![Coverage Status](https://coveralls.io/repos/cheton/browserify-css/badge.svg?branch=master&service=github)](https://coveralls.io/github/cheton/browserify-css?branch=master)\n\n[![NPM](https://nodei.co/npm/browserify-css.png?downloads=true&stars=true)](https://www.npmjs.com/package/browserify-css)\n\nA Browserify transform for bundling, rebasing, inlining, and minifying CSS files. It's useful for CSS modularization where styles are scoped to their related bundles.\n\n## Getting Started\n\nIf you're new to browserify, check out the [browserify handbook](https://github.com/substack/browserify-handbook) and the resources on [browserify.org](http://browserify.org/).\n\n## Installation\n\n`npm install --save-dev browserify-css`\n\n## Usage\n\napp.css:\n``` css\n@import url(\"modules/foo/index.css\");\n@import url(\"modules/bar/index.css\");\nbody {\n    background-color: #fff;\n}\n```\n\napp.js:\n``` js\nvar css = require('./app.css');\nconsole.log(css);\n```\n\nYou can compile your app by passing -t browserify-css to browserify:\n``` bash\n$ browserify -t browserify-css app.js > bundle.js\n```\n\nEach `require('./path/to/file.css')` call will concatenate CSS files with @import statements, rebasing urls, inlining @import, and minifying CSS. It will add a style tag with an optional data-href attribute to the head section of the document during runtime:\n\n``` html\n<html>\n<head>\n    <style type=\"text/css\" data-href=\"app.css\">...</style>\n</head>\n</html>\n```\n\n## Configuration\n\nYou can set configuration to your package.json file:\n``` json\n{\n    \"browserify-css\": {\n        \"autoInject\": true,\n        \"minify\": true,\n        \"rootDir\": \".\"\n    }\n}\n```\n\nor use an external configuration file like below:\n``` json\n{\n    \"browserify-css\": \"./config/browserify-css.js\"\n}\n```\n\nconfig/browserify-css.js:\n``` js\nmodule.exports = {\n    \"autoInject\": true,\n    \"minify\": true,\n    \"rootDir\": \".\"\n};\n```\n\nFurthermore, browserify-css transform can obtain options from the command-line with subarg syntax:\n```\n$ browserify -t [ browserify-css --autoInject=true ] app.js\n```\nor from the api:\n```\nb.transform('browserify-css', { autoInject: true })\n```\n\n## Options\n\n### autoInject\n\nType: `Boolean`\nDefault: `true`\n\nIf true, each `require('path/to/file.css')` call will add a style tag to the head section of the document.\n\n### autoInjectOptions\n\nType: `Object`\nDefault: \n```js\n{\n    \"verbose\": true,\n    \"insertAt\": \"bottom\" // or \"top\"\n}\n```\n\n#### `verbose`\n\nIf verbose is set to true, the path to CSS will be specified in the data-href attribute inside the style tag\n\n#### `insertAt`\n\nBy default, browserify-css transform appends &lt;style&gt; elements to the end of the &lt;head&gt; tag of the page. This will cause CSS created by browserify-css transform to take priority over CSS already present in the document head. To insert style elements at the beginning of the head, set the insertAt parameter to 'top'.\n\n### inlineImages\n\nType: `Boolean` or `Object`\nDefault: `false`\n\nIf true, each required css file will have image `url()` replaced with data urls. For example from:\n\n```css\n  background-image: url(\"background.png\");\n```\n\nto:\n\n```css\n  background-image: url(\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAVQAAAHgCAYAAAD6yZXWAAAABmJLR0QA\");\n```\n\n#### `options`\n\nUsing the object syntax you can specify additional options for the inlineImages option:\n```js\n{\n    \"options\": { // maximum size (in bytes) of image file that will be inlined into css file\n        \"limit\": 0 // 0 means no limit - inline all images\n    }\n}\n```\n\nIf a limit is set, then only files that are smaller than the number of bytes given will be inlined into the css file.\n\n### minify\n\nType: `Boolean`\nDefault: `false`\n\n### minifyOptions\n\nType: `Object`\nDefault: `{}`\n\nCheck out a list of CSS minify options at [CleanCSS](https://github.com/jakubpawlowicz/clean-css#how-to-use-clean-css-programmatically).\n\n### onFlush\n\nType: `Function`\n\nThe `onFlush` option accepts a function which takes two arguments: (options, done).\n```js\n// @param {object} options The options object\n// @param {string} options.filename The filename\n// @param {string} options.data The CSS file content\n// @param {string} options.rootDir The root directory\n// @param {string} options.relativePath The relative path\n// @param {string} options.href The href attribute\n// @param {function} done The done callback\nonFlush: function(options, done) {\n    // Method 1:\n    // This will keep original module.exports unchanged\n    done();\n    \n    // Method 2:\n    // Pass a null value to the done callback if you do not want to embed CSS into a JavaScript bundle\n    done(null);\n    \n    // Method 3:\n    // Pass a text string to the done callback to customize module.exports\n    done('module.exports = ' + JSON.stringify(options.data) + ';');\n}\n```\n\nYou can use the `onFlush` option to output each CSS to a separate file, or append multiple CSS into one file. For example:\n``` javascript\nvar browserify = require('browserify');\nvar fs = require('fs');\n\nfs.unlinkSync('dist/assets/app.css');\n\nbrowserify(options)\n    .add('src/index.js')\n    .transform(require('browserify-css'), {\n        rootDir: 'src',\n        onFlush: function(options, done) {\n            fs.appendFileSync('dist/assets/app.css', options.data);\n            \n            // Do not embed CSS into a JavaScript bundle\n            done(null);\n        }\n    })\n    .bundle();\n```\n\n### processRelativeUrl\n\nType: `Function`\n\nThe `processRelativeUrl` option accepts a function which takes one argument (the relative url) and returns the original `relativeUrl` string or the converted result. For example:\n``` javascript\nvar browserify = require('browserify');\n\nbrowserify(options)\n    .add('src/index.js')\n    .transform(require('browserify-css'), {\n        rootDir: 'src',\n        processRelativeUrl: function(relativeUrl) {\n            return relativeUrl;\n        }\n    })\n    .bundle();\n```\n\nYou can embed the image data directly into the CSS file with data URI, like so:\n``` javascript\nvar _ = require('lodash');\nvar path = require('path');\nvar browserify = require('browserify');\n\nbrowserify(options)\n    .add('src/index.js')\n    .transform(require('browserify-css'), {\n        rootDir: 'src',\n        processRelativeUrl: function(relativeUrl) {\n            if (_.contains(['.jpg','.png','.gif'], path.extname(relativeUrl))) {\n                // Embed image data with data URI\n                var DataUri = require('datauri');\n                var dUri = new DataUri(relativeUrl);\n                return dUri.content;\n            }\n            return relativeUrl;\n        }\n    })\n    .bundle();\n```\n\nYou may also want to check out the  [FAQ](https://github.com/cheton/browserify-css#2-how-do-i-load-font-and-image-files-from-node_modules) for advanced usage.\n\n### rebaseUrls\n\nType: `Boolean`\nDefault: `true`\n\nIf true, relative paths will be rebased in css files; if false, paths will be unchanged.\n\n### rootDir\n\nType: `String`\nDefault: `./`\n\nAn absolute path to resolve relative paths against the project's base directory.\n\n\n## FAQ \n### 1. How do I include CSS files located inside the node_modules folder?\nYou can choose one of the following methods to include CSS files located inside the node_modules folder:\n\n1. The easiest way to do this is using the `@import` rule. For example:\n\n  app.js:\n  ``` javascript\n  require('./app.css');\n  ```\n\n  app.css:\n  ``` css\n  /* Use CSS from your node_modules folder */\n  @import \"node_modules/foo/foo.css\";\n\n  /* Or your own relative files */\n  @import \"styles/common.css\";\n  ```\n  \n2. Use the global transform option (i.e. `--global-transform` or `-g`) on the command line to transform all files in a node_modules directory:\n\n  ``` bash\n  $ browserify -g browserify-css app.js > bundle.js \n  ```\n\n  or use the API directly:\n\n  ``` javascript\n  var browserify = require('browserify');\n  var b = browserify('./app.js');\n  b.transform('browserify-css', {global: true});\n  b.bundle().pipe(process.stdout);\n  ```\n  See [browserify transform options](https://github.com/substack/node-browserify#btransformtr-opts) for details.\n  \n  Then you will be able to require CSS files from within node_modules. For example:\n  ``` javascript\n  require('bootstrap/dist/bootstrap.css');\n  ```\n\n3. Put browserify transform option into a submodule's package.json file inside the `node_modules` directory on a **per-module basis** like so:\n\n  node_modules/foo/package.json:\n  ``` json\n  {\n    \"browserify\": {\n      \"transform\": [\"browserify-css\"]\n    }\n  }\n  ```\n\n  Then, run browserify transform on the command line:\n  ``` bash\n  $ browserify -t browserify-css app.js > bundle.js \n  ```\n\n### 2. How do I load font and image files from node_modules?\n\nAssume that you have the following directory structure:\n``` bash\npackage.json\ndist/\nsrc/\n    index.js\n    index.css\nnode_modules/\n    bootstrap/\n        dist/\n            css/\n                bootstrap.css\n```\n\nThe `index.css` uses `@import` to import external style sheets:\n``` css\n@import url(\"../node_modules/bootstrap/dist/css/bootstrap.css\");\n```\n\nAll output files, including the generated `bundle.js`, are created under the `dist` directory:\n``` bash\ndist/\n    bundle.js\n    vendor/\n        bootstrap/\n            dist/\n                css/\n                    bootstrap.css\n```\n\nSuppose that the `dist` directory is your web root, you might want to copy external font and images files from `../node_modules/` to `dist/vendor/`.\n\nFor example, the `@font-face` rules in `node_modules/bootstrap/dist/css/bootstrap.css`:\n``` css\n@font-face {\n    font-family: 'Glyphicons Halflings';\n    src: url('../fonts/glyphicons-halflings-regular.eot');\n    src: url('../fonts/glyphicons-halflings-regular.eot?#iefix') format('embedded-opentype'),\n         url('../fonts/glyphicons-halflings-regular.woff2') format('woff2'),\n         url('../fonts/glyphicons-halflings-regular.woff') format('woff'),\n         url('../fonts/glyphicons-halflings-regular.ttf') format('truetype'),\n         url('../fonts/glyphicons-halflings-regular.svg#glyphicons_halflingsregular') format('svg');\n}\n```\n\nThe example below illustrates the use of the `processRelativeUrl` option:\n``` javascript\nvar gulp = require('gulp');\nvar gutil = require('gulp-util');\nvar path = require('path');\nvar browserify = require('browserify');\nvar sourceStream = require('vinyl-source-stream');\nvar fse = require('fs-extra');\n\nvar bundleStream = browserify()\n    .add('src/index.js')\n    .transform(require('browserify-css'), {\n        rootDir: 'src',\n        processRelativeUrl: function(relativeUrl) {\n            var stripQueryStringAndHashFromPath = function(url) {\n                return url.split('?')[0].split('#')[0];\n            };\n            var rootDir = path.resolve(process.cwd(), 'src');\n            var relativePath = stripQueryStringAndHashFromPath(relativeUrl);\n            var queryStringAndHash = relativeUrl.substring(relativePath.length);\n\n            //\n            // Copying files from '../node_modules/bootstrap/' to 'dist/vendor/bootstrap/'\n            //\n            var prefix = '../node_modules/';\n            if (_.startsWith(relativePath, prefix)) {\n                var vendorPath = 'vendor/' + relativePath.substring(prefix.length);\n                var source = path.join(rootDir, relativePath);\n                var target = path.join(rootDir, vendorPath);\n\n                gutil.log('Copying file from ' + JSON.stringify(source) + ' to ' + JSON.stringify(target));\n                fse.copySync(source, target);\n\n                // Returns a new path string with original query string and hash fragments\n                return vendorPath + queryStringAndHash;\n            }\n\n            return relativeUrl;\n        }\n    })\n    .bundle();\n\nbundleStream\n    .pipe(sourceStream(bundleFile))\n    .pipe(gulp.dest(browserifyConfig.dest));\n\n```\n\n## Acknowledgements\n\nTest Images:\n- [test/fixtures/background.png](test/fixtures/background.png)<br/>\nOriginally by [W3C](http://www.w3.org/html/logo/) under terms of [CC-BY-3.0](http://creativecommons.org/licenses/by/3.0), via [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:Class-header-css3.jpg)\n\n- [test/fixtures/background-600.png](test/fixtures/background-600.png)<br/>\nOriginally by Rudloff under terms of [CC-BY-3.0](http://creativecommons.org/licenses/by/3.0), via [Wikimedia Commons](https://commons.wikimedia.org/wiki/File:CSS3_logo_and_wordmark.svg)\n\n\n## License\n\nCopyright (c) 2014-2017 Cheton Wu\n\nLicensed under the [MIT License](LICENSE).\n",
  "readmeFilename": "README.md",
  "repository": {
    "type": "git",
    "url": "git+https://github.com/cheton/browserify-css.git"
  },
  "scripts": {
    "build": "gulp",
    "coveralls": "tap test/*.js --coverage --coverage-report=text-lcov | coveralls",
    "prepublish": "npm run build && npm test",
    "test": "tap test/*.js"
  },
  "version": "0.11.1"
}
